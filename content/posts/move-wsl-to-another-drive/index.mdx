---
title: "å°‡ WSL ç§»å‹•åˆ°å¦ä¸€å€‹ç£ç¢Ÿ"
date: "2024-10-18"
draft: false
categories: ["å­¸ç¿’ç­†è¨˜"]
tags: ["WSL", "Linux", "Windows"]
---

> å•Šå•Šå•Š WSL æŠŠæˆ‘ C æ§½ç‚¸äº†

ä»¥å‰è£å®Œ WSL å°±ç›´æ¥ç”¨äº†ï¼Œæœ€è¿‘åœ¨ WSL ä¸Šè¨“ç·´æ¨¡å‹æ‰ç™¼ç¾ä¸€å€‹å•é¡Œï¼Œé è¨­çš„ WSL ä½ ç½®æ˜¯åœ¨ C æ§½ï¼Œæ‰€ä»¥æˆ‘å­˜äº†å¤§é‡çš„è³‡æ–™åœ¨ C æ§½å°è‡´ç©ºé–“å¿«ç‚¸äº†ï¼ŒæŸ¥äº†ä¸‹è³‡æ–™ç™¼ç¾è¦æŠŠ WSL ç§»èµ°éå¸¸å®¹æ˜“ã€‚

## ä½¿ç”¨ WSL command line tool

æ­¥é©Ÿå¦‚ä¸‹ï¼š

1.  åŒ¯å‡º distribution

    ```bash
    wsl.exe --export <DistroName> <Tar-FileName>
    ```

    ä»¥æˆ‘ç‚ºä¾‹æ˜¯

    ```bash
    wsl.exe --export Ubuntu-22.04 E:\WSL\export\Ubuntu-22.04.tar
    ```

2.  åˆªé™¤èˆŠçš„å®‰è£æª”

    ```bash
    wsl.exe --unregister <OldDistroName>
    ```

    > ğŸ’¡**Hint**ï¼šå…ˆç¢ºèªæ–°çš„ distro å¯ä»¥è·‘å†æŠŠèˆŠçš„åˆªæ‰æ¯”è¼ƒå®‰å…¨

3.  æŠŠ distribution åŒ¯å…¥åˆ°æŒ‡å®šçš„è³‡æ–™å¤¾

    ```bash
    wsl.exe --import <DistroName> <Folder-To-Install> <Tar-FileName>
    ```

    ä»¥æˆ‘ç‚ºä¾‹æ˜¯

    ```bash
    wsl.exe --import Ubuntu-22.04 E:\WSL\Ubuntu-22.04 E:\WSL\export\Ubuntu-22.04.tar
    ```

4.  åŸ·è¡Œæ–°çš„ distro
    ```bash
    wsl.exe -d <NewDistributionName>
    ```

## è¨­å®šé è¨­ä½¿ç”¨è€…

ç§»å®Œä¹‹å¾Œç™¼ç¾é–‹æ©Ÿæ˜¯ rootï¼Œæ‰€ä»¥è¦è¨­å®šé è¨­ä½¿ç”¨è€…ï¼Œç›´æ¥åˆ° `/etc/wsl.conf` è¨­å®šï¼š

```text
[user]
default=username
```

ç„¶å¾Œè·‘ `wsl --terminate <distroname>` æŠŠ WSL é—œæ©Ÿï¼Œå†é‡æ–°æ‰“é–‹å°±å¯ä»¥äº†ã€‚

## å¾Œè¨˜

å¥½è€¶ä¹‹å¾Œå¯ä»¥åœ¨ WSL äº‚å¡æª”æ¡ˆã„Œ

### å¾Œå¾Œè¨˜

ä¸æ¨ WSLï¼Œæ‰€ä»¥æˆ‘ç›´æ¥æ›æˆ Linux ã„Œ  
--- 2025-07-23

## Reference

- [How to set default user for manually installed WSL distro?](https://superuser.com/questions/1566022/how-to-set-default-user-for-manually-installed-wsl-distro)
- [Move WSL to another drive](https://medium.com/@rahmanazhar/move-wsl-to-another-drive-ab8002152cf2)
