---
title: "Neovim + LazyVim åŸºæœ¬è¨­å®šèª¿æ•´"
date: "2025-12-18"
categories: ["å­¸ç¿’ç­†è¨˜"]
tags: ["Neovim"]
---

## å®‰è£ LazyVim

å› ç‚º LazyVim éœ€è¦è¼ƒæ–°çš„ Neovim ç‰ˆæœ¬ï¼Œapt ç­‰ package manager å¯èƒ½é‚„åœç•™åœ¨èˆŠç‰ˆï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å» [Releases Â· neovim/neovim](https://github.com/neovim/neovim/releases) ä¸‹è¼‰ AppImageã€‚

è£å¥½ Neovim å¾Œï¼Œå°±å¯ä»¥åƒè€ƒå®˜æ–¹æ–‡ä»¶ä¾†å®‰è£ LazyVimï¼š[ğŸ› ï¸ Installation | LazyVim](https://www.lazyvim.org/installation)ã€‚è£å¥½ LazyVim å¾Œç†è«–ä¸Šå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ äº†ï¼Œéå¸¸æ–¹ä¾¿ï¼Œä¸éå¯ä»¥ç¨å¾®èª¿æ•´ä¸€äº›è¨­å®šä¾†ç¬¦åˆè‡ªå·±çš„éœ€æ±‚ã€‚

## é€æ˜èƒŒæ™¯

é è¨­ LazyVim ä¸»é¡Œæ˜¯æœ‰èƒŒæ™¯è‰²çš„ Tokyo Nightï¼Œå¦‚æœæƒ³è¦é€æ˜èƒŒæ™¯ï¼Œå¯ä»¥æ–°å¢ä¸€å€‹æª”æ¡ˆ `~/.config/nvim/lua/plugins/colorscheme.lua` è£¡é¢åŠ å…¥ä»¥ä¸‹è¨­å®šï¼š

```lua
return {
  {
    "folke/tokyonight.nvim",
    opts = {
      transparent = true,
      styles = {
        sidebars = "transparent",
        floats = "transparent",
      },
    },
  },
}
```

é€™æ¨£å°±æœƒè®“ Tokyo Night ä¸»é¡Œè®Šæˆé€æ˜èƒŒæ™¯ã€‚

## è¤‡è£½è²¼ä¸Šåˆ°ç³»çµ±å‰ªè²¼ç°¿

å¯ä»¥åœ¨ `~/.config/nvim/lua/config/options.lua` è£¡é¢åŠ å…¥ä»¥ä¸‹è¨­å®šï¼Œè®“ Neovim é è¨­ä½¿ç”¨ç³»çµ±å‰ªè²¼ç°¿ï¼š

```lua
vim.opt.clipboard:append("unnamedplus")
```

å¦‚æ­¤ä¸€ä¾†å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ `y`ã€`d`ã€`p` ç­‰æŒ‡ä»¤ä¾†è¤‡è£½è²¼ä¸Šåˆ°ç³»çµ±å‰ªè²¼ç°¿ï¼Œè€Œä¸ç”¨åŠ  ä¸Š register å‰ç¶´ `"+` æˆ– `"*`ã€‚å¦‚æœåœ¨å·¥ä½œç«™ä¸Šä½¿ç”¨é‚„å¯åŠ å…¥ä»¥ä¸‹è¨­å®šï¼Œæ”¯æ´é€é OSC 52 å”å®šä¾†è¤‡è£½è²¼ä¸Šï¼Œå¯ä»¥è·¨ SSH ä½¿ç”¨å‰ªè²¼ç°¿ï¼š

```lua
vim.g.clipboard = {
  name = "OSC 52",
  copy = {
    ["+"] = require("vim.ui.clipboard.osc52").copy("+"),
    ["*"] = require("vim.ui.clipboard.osc52").copy("*"),
  },
  paste = {
    ["+"] = require("vim.ui.clipboard.osc52").paste("+"),
    ["*"] = require("vim.ui.clipboard.osc52").paste("*"),
  },
}
```

## tab èˆ‡ç©ºæ ¼è¨­å®š

æˆ‘ç¿’æ…£çš„ç¸®æ’å¤§å°æœƒæ ¹æ“šèªè¨€æœ‰æ‰€ä¸åŒï¼Œä¾‹å¦‚ C++ æœƒç”¨ 4 å€‹ç©ºæ ¼ï¼Œè€Œ LazyVim é è¨­ éƒ½æ˜¯ 2 å€‹ç©ºæ ¼ï¼Œå¯ä»¥åœ¨ `~/.config/nvim/lua/config/autocmds.lua` è£¡é¢åŠ å…¥ä»¥ä¸‹ è¨­å®šèª¿æ•´ä¸åŒèªè¨€çš„ tab èˆ‡ç©ºæ ¼è¨­å®šï¼š

```lua
vim.api.nvim_create_autocmd("FileType", {
  pattern = { "c", "cpp" },
  callback = function()
    vim.opt_local.tabstop = 4
    vim.opt_local.shiftwidth = 4
    vim.opt_local.expandtab = true
  end,
})

```

## é—œé–‰æ‹¼å­—æª¢æŸ¥

é€™æ˜¯æˆ‘æœ€è¨å­çš„ LazyVim é è¨­åŠŸèƒ½ï¼Œå› ç‚ºå¹³å¸¸æœƒä½¿ç”¨ä¸å°‘å°ˆæœ‰åè©ï¼Œæ‹¼å­—æª¢æŸ¥å°±æœƒä¸€ ç›´å—†æˆ‘ï¼Œå¾ˆç…©ã€‚åœ¨ `~/.config/nvim/lua/config/autocmds.lua` è£¡é¢åŠ å…¥ä»¥ä¸‹è¨­å®šä¾†é—œé–‰æ‹¼å­—æª¢æŸ¥ï¼š

```lua
vim.api.nvim_create_autocmd("FileType", {
  pattern = "*",
  callback = function()
    vim.opt_local.spell = false
  end,
})
```

## è‡ªè¨‚æŒ‡ä»¤

å› ç‚ºæˆ‘æŠŠç³»çµ±å‰ªè²¼ç°¿è¨­å®šæˆé è¨­è¡Œç‚ºï¼Œä½†æœ‰æ™‚æœƒæƒ³è¦æŠŠæª”æ¡ˆæ¸…ç©ºå†è²¼ä¸Šç³»çµ±å‰ªè²¼ç°¿çš„å…§å®¹ï¼Œé€™æ™‚å€™å°±ä¸èƒ½ç”¨ `:%d` æ¸…æ‰å†è²¼ä¸Šï¼Œå› ç‚ºæœƒæŠŠç³»çµ±å‰ªè²¼ç°¿çš„å…§å®¹è“‹æ‰ã€‚å¯ä»¥åœ¨ `~/.config/nvim/lua/config/options.lua` è£¡é¢åŠ å…¥ä»¥ä¸‹è¨­å®šï¼Œæ–°å¢ä¸€å€‹ `:D` æŒ‡ä»¤ä¾†é”æˆé€™å€‹åŠŸèƒ½ï¼ˆæ³¨æ„è‡ªè¨‚æŒ‡ä»¤çš„é¦–å­—æ¯ä¸€å®šè¦å¤§å¯«ï¼‰ï¼š

```lua
vim.api.nvim_create_user_command("D", function()
  vim.cmd('normal! gg"_dG')
end, { desc = "Clear buffer without affecting clipboard" })
```

## çµèª

ä»¥ä¸Šå°±æ˜¯æˆ‘ç›®å‰å° LazyVim çš„ä¸€äº›åŸºæœ¬è¨­å®šèª¿æ•´ï¼Œè®“å®ƒæ›´ç¬¦åˆæˆ‘çš„ä½¿ç”¨ç¿’æ…£ã€‚LazyVim æœ¬èº«å·²ç¶“å¾ˆå¼·å¤§äº†ï¼Œä½†é€éé€™äº›å°èª¿æ•´ï¼Œå¯ä»¥è®“ä½¿ç”¨é«”é©—æ›´é †æš¢ã€‚LazyVim çœŸçš„æ˜¯å€‹ å¾ˆæ£’çš„ Neovim é…ç½®æ¡†æ¶ (ï¾‰&gt;Ï‰&lt;)ï¾‰
